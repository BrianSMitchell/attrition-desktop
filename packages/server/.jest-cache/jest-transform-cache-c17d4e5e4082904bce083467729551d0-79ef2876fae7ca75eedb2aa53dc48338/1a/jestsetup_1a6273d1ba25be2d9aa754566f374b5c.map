{"file":"C:\\Projects\\Attrition\\packages\\server\\src\\__tests__\\setup\\jest.setup.ts","mappings":";AAAA;;;;GAIG;AAyCH,6DAA6D;AAC7D,+DAA+D;AAC/D,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,GAAG,EAAE,CAAC,CAAC;IACxC,YAAY,EAAE,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;QAC3B,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE;QACf,IAAI,EAAE;YACJ,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;YAClB,kBAAkB,EAAE,IAAI,CAAC,EAAE,EAAE;YAC7B,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE;YACjB,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;SACnB;QACD,QAAQ,EAAE;YACR,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE;YACb,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE;SACrB;KACF,CAAC,CAAC;CACJ,CAAC,CAAC,CAAC;AAvDJ,8DAA8D;AAC9D,IAAI,OAAO,CAAC,GAAG,CAAC,KAAK,KAAK,MAAM,EAAE,CAAC;IACjC,MAAM,CAAC,OAAO,GAAG;QACf,GAAG,OAAO;QACV,GAAG,EAAE,IAAI,CAAC,EAAE,EAAE;QACd,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE;QAChB,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE;QACf,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE;QACf,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE;KACjB,CAAC;AACJ,CAAC;AAED,iCAAiC;AACjC,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,MAAM,CAAC;AAC9B,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,OAAO,CAAC,GAAG,CAAC,YAAY,IAAI,sDAAsD,CAAC;AAE9G,qCAAqC;AACrC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AAWvB,kBAAkB;AAClB,MAAM,CAAC,MAAM,CAAC;IACZ,WAAW,CAAC,QAAQ;QAClB,MAAM,OAAO,GAAG,OAAO,QAAQ,KAAK,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;QACpE,OAAO;YACL,IAAI,EAAE,OAAO;YACb,OAAO,EAAE,GAAG,EAAE,CAAC,YAAY,QAAQ,mBAAmB;SACvD,CAAC;IACJ,CAAC;CACF,CAAC,CAAC;AAoBH,0BAA0B;AAC1B,QAAQ,CAAC,KAAK,IAAI,EAAE;IAClB,4BAA4B;IAC5B,gDAAgD;AAClD,CAAC,CAAC,CAAC","names":[],"sources":["C:\\Projects\\Attrition\\packages\\server\\src\\__tests__\\setup\\jest.setup.ts"],"sourcesContent":["/**\r\n * Jest Setup File\r\n * Runs before each test suite\r\n * Use for global test configuration, mocks, and utilities\r\n */\r\n\r\n// Suppress console output in tests (unless explicitly logged)\r\nif (process.env.DEBUG !== 'true') {\r\n  global.console = {\r\n    ...console,\r\n    log: jest.fn(),\r\n    debug: jest.fn(),\r\n    info: jest.fn(),\r\n    warn: jest.fn(),\r\n    error: jest.fn(),\r\n  };\r\n}\r\n\r\n// Set test environment variables\r\nprocess.env.NODE_ENV = 'test';\r\nprocess.env.DATABASE_URL = process.env.DATABASE_URL || 'postgresql://test:test@localhost:5432/attrition_test';\r\n\r\n// Jest timeout for integration tests\r\njest.setTimeout(10000);\r\n\r\n// Global test utilities\r\ndeclare global {\r\n  namespace jest {\r\n    interface Matchers<R> {\r\n      toBeValidId(): R;\r\n    }\r\n  }\r\n}\r\n\r\n// Custom matchers\r\nexpect.extend({\r\n  toBeValidId(received) {\r\n    const isValid = typeof received === 'string' && received.length > 0;\r\n    return {\r\n      pass: isValid,\r\n      message: () => `Expected ${received} to be a valid ID`,\r\n    };\r\n  },\r\n});\r\n\r\n// Mock Supabase client (if not using real database in tests)\r\n// This is optional - remove or modify based on your test needs\r\njest.mock('@supabase/supabase-js', () => ({\r\n  createClient: jest.fn(() => ({\r\n    from: jest.fn(),\r\n    auth: {\r\n      getUser: jest.fn(),\r\n      signInWithPassword: jest.fn(),\r\n      signUp: jest.fn(),\r\n      signOut: jest.fn(),\r\n    },\r\n    realtime: {\r\n      on: jest.fn(),\r\n      subscribe: jest.fn(),\r\n    },\r\n  })),\r\n}));\r\n\r\n// Cleanup after all tests\r\nafterAll(async () => {\r\n  // Add any cleanup code here\r\n  // E.g., close database connections, clear mocks\r\n});\r\n"],"version":3}